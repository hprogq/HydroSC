# HydroOJ 图形化本地查重工具

> **HydroSC (HydroOJ Similarity Checker)** — 一键进行 HydroOJ 代码本地查重，支持可视化结果浏览、相似度阈值调节，支持离线与在线双模式，尤其适合采用本地离线部署的项目。

---

## ✨ 功能概览

| 功能           | 描述                                       |
| ------------ | ---------------------------------------- |
| **在线查重**     | 登录账户并自动下载指定作业代码，一键完成比对，支持指定服务器 |
| **本地部署支持**   | 适配本地部署的 HydroOJ，支持局域网环境中便携使用             |
| **多域兼容**     | 同时支持 `system` 默认域和自定义域，操作无需打开网页          |
| **跨平台适配**    | 可打包为 Windows 可执行文件，适合 U 盘拷贝在局域网中分发使用     |
| **离线查重模式**   | 支持手动导入提交包并离线比对，可后期导入名单映射用户信息             |
| **高效比对引擎**   | 支持相似度阈值设定，基于 DSU 算法与词法分析，查重准确高效          |
| **结果可视化**    | 查重结果按树状结构分组展示，支持即时预览和代码比对                |
| **支持名单导入**   | 可导入包含用户 ID 与姓名的 Excel 文件，便捷显示真实身份        |
| **登录信息本地保存** | 登录信息编码后本地存储，自动填充（务必妥善保管数据文件）              |

---

## 🚀 使用指南

### 1. 安装依赖

```bash
pip install PyQt5 requests beautifulsoup4 openpyxl
```

### 2. 启动程序

```bash
python hydroSC.py
```

### 3. 注意事项

* 名单支持 `.xlsx` / `.xls` 文件，表格第一列为系统内 **UserID**（可从数据库导出，为自增主键），第二列为 **姓名**，无需添加表头。

* 目前仅实现了**作业**的登录下载功能，比赛需要**从网页端导出**后进行离线查重。

---

## 🖼️ 项目目录结构

```
hydroSC.py                主程序入口
cache/                    本地缓存（程序生成，保存查重结果和登录信息）
answers/                  解压后的提交代码（程序生成，自动创建/覆盖）
```

---

## 🛠️ 打包为可执行文件

> 需安装 [PyInstaller](https://pyinstaller.org/)。

### 例：打包为 Windows 平台 .exe 可执行文件

```bash
pip install pyinstaller
pyinstaller --name HydroSC --onefile --windowed hydroSC.py
# 打包后可分发 dist/HydroSC.exe
```

---

## 🛡️ 开源协议

本项目采用 [MIT License](https://opensource.org/license/mit) 开源协议。
欢迎自由修改、分发代码与界面资源，欢迎通过 PR / Issue / 邮件反馈建议。
